(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[281],{43848:(e,t,a)=>{"use strict";a.d(t,{PortfolioTable:()=>M});var r=a(95155),s=a(12115),l=a(88524),n=a(97168),i=a(62525),o=a(39881),c=a(58832),d=a(13717),u=a(99840),m=a(89852),h=a(82714),p=a(54683),f=a(66474),y=a(47863),x=a(5196),g=a(53999);let N=p.bL;p.YJ;let b=p.WT,j=s.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(p.l9,{ref:t,className:(0,g.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...l,children:[s,(0,r.jsx)(p.In,{asChild:!0,children:(0,r.jsx)(f.A,{className:"h-4 w-4 opacity-50"})})]})});j.displayName=p.l9.displayName;let v=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(p.PP,{ref:t,className:(0,g.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(y.A,{className:"h-4 w-4"})})});v.displayName=p.PP.displayName;let w=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(p.wn,{ref:t,className:(0,g.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(f.A,{className:"h-4 w-4"})})});w.displayName=p.wn.displayName;let S=s.forwardRef((e,t)=>{let{className:a,children:s,position:l="popper",...n}=e;return(0,r.jsx)(p.ZL,{children:(0,r.jsxs)(p.UC,{ref:t,className:(0,g.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...n,children:[(0,r.jsx)(v,{}),(0,r.jsx)(p.LM,{className:(0,g.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(w,{})]})})});S.displayName=p.UC.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(p.JU,{ref:t,className:(0,g.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s})}).displayName=p.JU.displayName;let E=s.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(p.q7,{ref:t,className:(0,g.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(p.VF,{children:(0,r.jsx)(x.A,{className:"h-4 w-4"})})}),(0,r.jsx)(p.p4,{children:s})]})});E.displayName=p.q7.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(p.wv,{ref:t,className:(0,g.cn)("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=p.wv.displayName;var A=a(85339),P=a(44980);function C(e){let{asset:t,open:a,onOpenChange:l,onSave:i}=e,{editAsset:o}=(0,P.g)(),[c,d]=(0,s.useState)({quantity:t.quantity.toString(),purchasePrice:t.purchasePrice.toString(),purchaseDate:t.purchaseDate,type:t.type}),[p,f]=(0,s.useState)(null),[y,x]=(0,s.useState)(!1);(0,s.useEffect)(()=>{d({quantity:t.quantity.toString(),purchasePrice:t.purchasePrice.toString(),purchaseDate:t.purchaseDate,type:t.type})},[t]);let g=e=>{let{name:t,value:a}=e.target;d(e=>({...e,[t]:a})),f(null)},v=async e=>{e.preventDefault(),f(null),x(!0);try{let e=Number(c.quantity),a=Number(c.purchasePrice);if(isNaN(e)||e<=0)throw Error("Please enter a valid quantity");if(isNaN(a)||a<=0)throw Error("Please enter a valid purchase price");i(t.symbol,{quantity:e,purchasePrice:a,type:c.type,purchaseDate:c.purchaseDate}),l(!1)}catch(e){f(e instanceof Error?e.message:"Failed to update asset")}finally{x(!1)}};return(0,r.jsx)(u.lG,{open:a,onOpenChange:l,children:(0,r.jsx)(u.Cf,{className:"absolute inset-0 m-auto w-[95%] sm:max-w-[425px] h-fit max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"overflow-y-auto",children:[(0,r.jsxs)(u.c7,{children:[(0,r.jsx)(u.L3,{children:"Edit Asset"}),(0,r.jsx)(u.rr,{children:"Update your asset details."})]}),p&&(0,r.jsxs)("div",{className:"flex items-center gap-2 rounded-lg border border-red-200 bg-red-100 p-3 text-sm text-red-600",children:[(0,r.jsx)(A.A,{className:"h-4 w-4"}),(0,r.jsx)("p",{children:p})]}),(0,r.jsxs)("form",{onSubmit:v,className:"space-y-4 py-4",children:[(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(h.J,{htmlFor:"symbol",children:"Symbol"}),(0,r.jsx)(m.p,{id:"symbol",value:t.symbol,disabled:!0})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(h.J,{htmlFor:"quantity",children:"Quantity"}),(0,r.jsx)(m.p,{id:"quantity",name:"quantity",type:"number",min:"0",step:"0.01",value:c.quantity,onChange:g,placeholder:"Enter quantity",required:!0})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(h.J,{htmlFor:"purchasePrice",children:"Purchase Price (₹)"}),(0,r.jsx)(m.p,{id:"purchasePrice",name:"purchasePrice",type:"number",min:"0",step:"0.01",value:c.purchasePrice,onChange:g,placeholder:"Enter purchase price",required:!0})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(h.J,{htmlFor:"type",children:"Asset Type"}),(0,r.jsxs)(N,{value:c.type,onValueChange:e=>{d(t=>({...t,type:e})),f(null)},children:[(0,r.jsx)(j,{id:"type",children:(0,r.jsx)(b,{placeholder:"Select asset type"})}),(0,r.jsxs)(S,{children:[(0,r.jsx)(E,{value:"Equity",children:"Equity"}),(0,r.jsx)(E,{value:"Bond",children:"Bond"}),(0,r.jsx)(E,{value:"Real Estate",children:"Real Estate"}),(0,r.jsx)(E,{value:"Commodity",children:"Commodity"}),(0,r.jsx)(E,{value:"Cash",children:"Cash"}),(0,r.jsx)(E,{value:"Other",children:"Other"})]})]})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(h.J,{htmlFor:"purchaseDate",children:"Purchase Date"}),(0,r.jsx)(m.p,{id:"purchaseDate",name:"purchaseDate",type:"date",value:c.purchaseDate,onChange:g,required:!0})]}),(0,r.jsx)(u.Es,{children:(0,r.jsx)(n.$,{type:"submit",disabled:y,children:y?"Saving...":"Save Changes"})})]})]})})})}var q=a(17649);let D=q.bL;q.l9;let I=q.ZL,k=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(q.hJ,{className:(0,g.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s,ref:t})});k.displayName=q.hJ.displayName;let L=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsxs)(I,{children:[(0,r.jsx)(k,{}),(0,r.jsx)(q.UC,{ref:t,className:(0,g.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...s})]})});L.displayName=q.UC.displayName;let R=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,g.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};R.displayName="AlertDialogHeader";let F=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,g.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};F.displayName="AlertDialogFooter";let T=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(q.hE,{ref:t,className:(0,g.cn)("text-lg font-semibold",a),...s})});T.displayName=q.hE.displayName;let O=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(q.VY,{ref:t,className:(0,g.cn)("text-sm text-muted-foreground",a),...s})});O.displayName=q.VY.displayName;let B=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(q.rc,{ref:t,className:(0,g.cn)((0,n.r)(),a),...s})});B.displayName=q.rc.displayName;let z=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(q.ZD,{ref:t,className:(0,g.cn)((0,n.r)({variant:"outline"}),"mt-2 sm:mt-0",a),...s})});function J(e){let{asset:t,open:a,onOpenChange:s,onDelete:l}=e;return(0,r.jsx)(D,{open:a,onOpenChange:s,children:(0,r.jsxs)(L,{children:[(0,r.jsxs)(R,{children:[(0,r.jsx)(T,{children:"Are you sure?"}),(0,r.jsxs)(O,{children:["This will permanently delete ",t.symbol," (",t.longName,") from your portfolio. This action cannot be undone."]})]}),(0,r.jsxs)(F,{children:[(0,r.jsx)(z,{children:"Cancel"}),(0,r.jsx)(B,{onClick:l,className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})]})})}function M(){let{assets:e,removeAsset:t,editAsset:a,isLoading:u,clearPortfolio:m}=(0,P.g)(),[h,p]=(0,s.useState)(null),[f,y]=(0,s.useState)(null),x=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e),g=e=>{let t=e.quantity*e.purchasePrice;return e.quantity*(86*e.currentPrice)-t},N=e=>{let t=e.quantity*e.purchasePrice;return(e.quantity*(86*e.currentPrice)-t)/t*100},b=e=>{t(e),y(null)};return u?(0,r.jsxs)("div",{className:"w-full py-8",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"h-8 w-full bg-muted animate-pulse rounded"}),(0,r.jsx)("div",{className:"h-12 w-full bg-muted/50 animate-pulse rounded"}),(0,r.jsx)("div",{className:"h-12 w-full bg-muted/50 animate-pulse rounded"}),(0,r.jsx)("div",{className:"h-12 w-full bg-muted/50 animate-pulse rounded"}),(0,r.jsx)("div",{className:"h-12 w-full bg-muted/50 animate-pulse rounded"})]}),(0,r.jsx)("p",{className:"text-center text-muted-foreground mt-6",children:"Loading assets..."})]}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"Portfolio"}),(0,r.jsxs)(n.$,{onClick:()=>{m(),localStorage.removeItem("portfolio")},variant:"destructive",className:"flex items-center gap-2",children:[(0,r.jsx)(i.A,{className:"h-4 w-4"}),"Clear Portfolio"]})]}),(0,r.jsxs)(l.XI,{children:[(0,r.jsx)(l.A0,{children:(0,r.jsxs)(l.Hj,{children:[(0,r.jsx)(l.nd,{children:"Asset"}),(0,r.jsx)(l.nd,{children:"Type"}),(0,r.jsx)(l.nd,{className:"text-right",children:"Quantity"}),(0,r.jsx)(l.nd,{className:"text-right",children:"Purchase Price (₹)"}),(0,r.jsx)(l.nd,{className:"text-right",children:"Current Price (₹)"}),(0,r.jsx)(l.nd,{className:"text-right",children:"Total Value (₹)"}),(0,r.jsx)(l.nd,{className:"text-right",children:"Profit/Loss (₹)"}),(0,r.jsx)(l.nd,{className:"text-right",children:"Actions"})]})}),(0,r.jsx)(l.BF,{children:Array.isArray(e)&&e.map(e=>{let t=g(e),a=N(e),s=t>=0;return(0,r.jsxs)(l.Hj,{children:[(0,r.jsx)(l.nA,{className:"font-medium",children:e.symbol}),(0,r.jsx)(l.nA,{children:e.type}),(0,r.jsx)(l.nA,{className:"text-right",children:e.quantity}),(0,r.jsx)(l.nA,{className:"text-right",children:x(e.purchasePrice)}),(0,r.jsx)(l.nA,{className:"text-right",children:x(86*e.currentPrice)}),(0,r.jsx)(l.nA,{className:"text-right",children:x(e.quantity*e.currentPrice*86)}),(0,r.jsx)(l.nA,{className:"text-right",children:(0,r.jsxs)("div",{className:"flex items-center justify-end ".concat(s?"text-green-500":"text-red-500"),children:[s?(0,r.jsx)(o.A,{className:"h-4 w-4 mr-1"}):(0,r.jsx)(c.A,{className:"h-4 w-4 mr-1"}),x(Math.abs(t)),(0,r.jsxs)("span",{className:"ml-1",children:["(",a.toFixed(2),"%)"]})]})}),(0,r.jsx)(l.nA,{className:"text-right",children:(0,r.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,r.jsxs)(n.$,{variant:"outline",size:"icon",onClick:()=>p(e),children:[(0,r.jsx)(d.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Edit"})]}),(0,r.jsxs)(n.$,{variant:"outline",size:"icon",onClick:()=>y(e),children:[(0,r.jsx)(i.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Delete"})]})]})})]},e.symbol)})})]}),h&&(0,r.jsx)(C,{asset:h,open:!!h,onOpenChange:e=>!e&&p(null),onSave:(e,t)=>{try{a(e,t),p(null)}catch(e){console.error("Error saving asset:",e)}}}),f&&(0,r.jsx)(J,{asset:f,open:!!f,onOpenChange:e=>!e&&y(null),onDelete:()=>b(f.symbol)})]})}z.displayName=q.ZD.displayName},44980:(e,t,a)=>{"use strict";a.d(t,{PortfolioProvider:()=>o,g:()=>c});var r=a(95155),s=a(12115),l=a(87464);let n=(0,s.createContext)(void 0),i=[{symbol:"AAPL",longName:"Apple Inc.",type:"Equity",quantity:2,purchasePrice:18777,currentPrice:218.27,regularMarketChangePercent:-.03,value:37542,costBasis:18777,purchaseDate:"2024-01-01",lastUpdated:new Date().toISOString()},{symbol:"AMZN",longName:"Amazon.com Inc.",type:"Equity",quantity:2,purchasePrice:16786,currentPrice:196.21,regularMarketChangePercent:.52,value:33748,costBasis:16786,purchaseDate:"2024-01-01",lastUpdated:new Date().toISOString()},{symbol:"TSLA",longName:"Tesla Inc.",type:"Equity",quantity:5,purchasePrice:21293,currentPrice:248.71,regularMarketChangePercent:.45,value:106945,costBasis:21293,purchaseDate:"2024-01-01",lastUpdated:new Date().toISOString()},{symbol:"MSFT",longName:"Microsoft Corporation",type:"Equity",quantity:2,purchasePrice:33646,currentPrice:391.26,regularMarketChangePercent:.01,value:67297,costBasis:33646,purchaseDate:"2024-01-01",lastUpdated:new Date().toISOString()}];function o(e){let{children:t}=e,[a,o]=(0,s.useState)(i),[c,d]=(0,s.useState)(!0),[u,m]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=localStorage.getItem("portfolio");e&&o(JSON.parse(e)),d(!1)},[]),(0,s.useEffect)(()=>{c||localStorage.setItem("portfolio",JSON.stringify(a))},[a,c]),(0,s.useEffect)(()=>{let e=async()=>{if(0!==a.length){d(!0);try{let e=await Promise.all(a.map(async e=>{try{let t=await l.z.getStockData(e.symbol);return{...e,currentPrice:t.price,regularMarketChangePercent:t.changePercent,value:t.price*e.quantity}}catch(t){return console.error("Error updating ".concat(e.symbol,":"),t),e}}));o(e)}catch(e){console.error("Error updating prices:",e)}finally{d(!1)}}};e();let t=setInterval(e,3e5);return()=>clearInterval(t)},[]);let h=(0,s.useCallback)(async(e,t,r)=>{d(!0),m(null);try{let s=e.includes("(")?e.split("(")[1].replace(")","").trim():e;if(a.some(e=>e.symbol===s))throw Error("Asset already exists in portfolio");let n=await l.z.getStockData(s),i=83.34*n.price,c={symbol:s,longName:s,quantity:t,purchasePrice:r,currentPrice:n.price,regularMarketChangePercent:n.changePercent,value:i*t,costBasis:r,type:"Equity",purchaseDate:new Date().toISOString().split("T")[0],lastUpdated:new Date().toISOString()},d=[...a,c];o(d),localStorage.setItem("portfolio",JSON.stringify(d))}catch(e){throw console.error("Error adding asset:",e),m(e instanceof Error?e.message:"Failed to add asset"),e}finally{d(!1)}},[a]),p=(0,s.useCallback)((e,t)=>{d(!0);try{let r=a.map(a=>a.symbol===e?{...a,...t,value:(t.quantity||a.quantity)*a.currentPrice,lastUpdated:new Date().toISOString()}:a);o(r),localStorage.setItem("portfolio",JSON.stringify(r))}catch(e){throw console.error("Error editing asset:",e),e}finally{d(!1)}},[a]),f=(()=>{let e=a.reduce((e,t)=>e+t.purchasePrice*t.quantity,0),t=a.reduce((e,t)=>e+t.value,0)-e;return{totalInvested:e,totalGain:t,totalGainPercent:e>0?t/e*100:0}})(),y=a.reduce((e,t)=>e+t.value,0);return(0,r.jsx)(n.Provider,{value:{assets:a,addAsset:h,removeAsset:e=>{let t=a.filter(t=>t.symbol!==e);o(t),localStorage.setItem("portfolio",JSON.stringify(t))},updateQuantity:(e,t)=>{let r=a.map(a=>a.symbol===e?{...a,quantity:t,value:a.currentPrice*t}:a);o(r),localStorage.setItem("portfolio",JSON.stringify(r))},clearPortfolio:()=>{o([]),localStorage.removeItem("portfolio")},totalValue:y,metrics:f,isLoading:c,error:u,editAsset:p},children:t})}let c=()=>{let e=(0,s.useContext)(n);if(!e)throw Error("usePortfolio must be used within PortfolioProvider");return e}},53999:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l});var r=a(52596),s=a(39688);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},65679:(e,t,a)=>{"use strict";a.d(t,{AddAssetButton:()=>p});var r=a(95155),s=a(12115),l=a(97168),n=a(84616),i=a(99840),o=a(89852),c=a(82714),d=a(44980),u=a(87464),m=a(85339);function h(e){let{open:t,onOpenChange:a}=e,{addAsset:n}=(0,d.g)(),[h,p]=(0,s.useState)(""),[f,y]=(0,s.useState)([]),[x,g]=(0,s.useState)(null),[N,b]=(0,s.useState)(null),[j,v]=(0,s.useState)(!1),[w,S]=(0,s.useState)(!1),[E,A]=(0,s.useState)({name:"",quantity:"",purchasePrice:"",purchaseDate:""}),P=async e=>{let t=e.trim();if(t.length<2){y([]);return}v(!0);try{let e=await u.z.searchStocks(t);y(e)}catch(e){console.error("Search error:",e)}finally{v(!1)}},C=e=>{let{name:t,value:a}=e.target;A(e=>({...e,[t]:a})),b(null)},q=async e=>{e.preventDefault(),b(null),S(!0);try{if(!x&&!E.name)throw Error("Please select a stock or enter an asset name");let e=Number(E.quantity),t=Number(E.purchasePrice);if(isNaN(e)||e<=0)throw Error("Please enter a valid quantity");if(isNaN(t)||t<=0)throw Error("Please enter a valid purchase price");await n((null==x?void 0:x.symbol)||E.name,e,t),A({name:"",quantity:"",purchasePrice:"",purchaseDate:""}),g(null),p(""),a(!1)}catch(e){b(e instanceof Error?e.message:"Failed to add asset")}finally{S(!1)}};return(0,r.jsx)(i.lG,{open:t,onOpenChange:a,children:(0,r.jsx)(i.Cf,{className:"absolute inset-0 m-auto w-[95%] sm:max-w-[425px] h-fit max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"overflow-y-auto",children:[(0,r.jsxs)(i.c7,{children:[(0,r.jsx)(i.L3,{children:"Add New Asset"}),(0,r.jsx)(i.rr,{children:"Enter the details of the asset you want to add to your portfolio."})]}),N&&(0,r.jsxs)("div",{className:"flex items-center gap-2 rounded-lg border border-red-200 bg-red-100 p-3 text-sm text-red-600",children:[(0,r.jsx)(m.A,{className:"h-4 w-4"}),(0,r.jsx)("p",{children:N})]}),(0,r.jsxs)("form",{onSubmit:q,className:"space-y-4 py-4",children:[(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(c.J,{htmlFor:"name",children:"Asset Name"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(o.p,{id:"name",name:"name",value:h||E.name,onChange:e=>{let t=e.target.value;p(t),P(t),C(e)},placeholder:"Search or enter asset name",required:!0}),j&&(0,r.jsx)("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:(0,r.jsx)("div",{className:"h-4 w-4 animate-spin rounded-full border-b-2 border-gray-900"})}),f.length>0&&(0,r.jsx)("div",{className:"absolute z-50 w-full mt-1 max-h-[200px] overflow-y-auto border rounded-md bg-background shadow-lg",children:f.map(e=>(0,r.jsxs)("div",{className:"p-2 hover:bg-muted cursor-pointer",onClick:()=>{g(e),p("".concat(e.name," (").concat(e.symbol,")")),y([])},children:[e.name," (",e.symbol,")"]},e.symbol))})]})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(c.J,{htmlFor:"quantity",children:"Quantity"}),(0,r.jsx)(o.p,{id:"quantity",name:"quantity",type:"number",min:"0",step:"0.01",value:E.quantity,onChange:C,placeholder:"Number of units",required:!0})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(c.J,{htmlFor:"purchasePrice",children:"Purchase Price (₹)"}),(0,r.jsx)(o.p,{id:"purchasePrice",name:"purchasePrice",type:"number",min:"0",step:"0.01",value:E.purchasePrice,onChange:C,placeholder:"Price per unit in ₹",required:!0})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(c.J,{htmlFor:"purchaseDate",children:"Purchase Date"}),(0,r.jsx)(o.p,{id:"purchaseDate",name:"purchaseDate",type:"date",value:E.purchaseDate,onChange:C,required:!0})]}),(0,r.jsx)(i.Es,{children:(0,r.jsx)(l.$,{type:"submit",disabled:w,children:w?"Adding...":"Add Asset"})})]})]})})})}function p(){let[e,t]=(0,s.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l.$,{onClick:()=>t(!0),children:[(0,r.jsx)(n.A,{className:"h-4 w-4 mr-2"}),"Add Asset"]}),(0,r.jsx)(h,{open:e,onOpenChange:t})]})}},67732:(e,t,a)=>{Promise.resolve().then(a.bind(a,65679)),Promise.resolve().then(a.bind(a,43848))},82714:(e,t,a)=>{"use strict";a.d(t,{J:()=>c});var r=a(95155),s=a(12115),l=a(40968),n=a(74466),i=a(53999);let o=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.b,{ref:t,className:(0,i.cn)(o(),a),...s})});c.displayName=l.b.displayName},87464:(e,t,a)=>{"use strict";a.d(t,{z:()=>l});let r="cvg3pjhr01qgvsqnco9gcvg3pjhr01qgvsqncoa0",s=[{symbol:"AAPL",name:"Apple Inc.",type:"Equity",exchange:"NASDAQ"},{symbol:"MSFT",name:"Microsoft Corporation",type:"Equity",exchange:"NASDAQ"},{symbol:"GOOGL",name:"Alphabet Inc.",type:"Equity",exchange:"NASDAQ"},{symbol:"AMZN",name:"Amazon.com Inc.",type:"Equity",exchange:"NASDAQ"},{symbol:"META",name:"Meta Platforms Inc.",type:"Equity",exchange:"NASDAQ"},{symbol:"TSLA",name:"Tesla Inc.",type:"Equity",exchange:"NASDAQ"},{symbol:"NFLX",name:"Netflix Inc.",type:"Equity",exchange:"NASDAQ"},{symbol:"RELIANCE.NS",name:"Reliance Industries Ltd.",type:"Equity",exchange:"NSE"},{symbol:"TCS.NS",name:"Tata Consultancy Services Ltd.",type:"Equity",exchange:"NSE"},{symbol:"INFY.NS",name:"Infosys Ltd.",type:"Equity",exchange:"NSE"},{symbol:"HDFCBANK.NS",name:"HDFC Bank Ltd.",type:"Equity",exchange:"NSE"},{symbol:"RELIANCE.NS",name:"Reliance Industries Ltd.",type:"Equity",exchange:"NSE"},{symbol:"TCS.NS",name:"Tata Consultancy Services Ltd.",type:"Equity",exchange:"NSE"},{symbol:"INFY.NS",name:"Infosys Ltd.",type:"Equity",exchange:"NSE"},{symbol:"HDFCBANK.NS",name:"HDFC Bank Ltd.",type:"Equity",exchange:"NSE"},{symbol:"ICICIBANK.NS",name:"ICICI Bank Ltd.",type:"Equity",exchange:"NSE"},{symbol:"HINDUNILVR.NS",name:"Hindustan Unilever Ltd.",type:"Equity",exchange:"NSE"},{symbol:"SBIN.NS",name:"State Bank of India",type:"Equity",exchange:"NSE"},{symbol:"BHARTIARTL.NS",name:"Bharti Airtel Ltd.",type:"Equity",exchange:"NSE"},{symbol:"ITC.NS",name:"ITC Ltd.",type:"Equity",exchange:"NSE"},{symbol:"KOTAKBANK.NS",name:"Kotak Mahindra Bank Ltd.",type:"Equity",exchange:"NSE"}],l={searchStocks:async e=>{if((e=e.toLowerCase().trim()).length<2)return[];let t=s.filter(t=>t.symbol.toLowerCase().includes(e)||t.name.toLowerCase().includes(e));try{let a=await fetch("https://finnhub.io/api/v1/search?q=".concat(e,"&token=").concat(r));if(!a.ok)return console.warn("API request failed, using local results"),t;let s=((await a.json()).result||[]).filter(e=>"Common Stock"===e.type).map(e=>({symbol:e.symbol,name:e.description||e.symbol,type:"Equity",exchange:e.primaryExchange||"Unknown"}));return[...t,...s].filter((e,t,a)=>t===a.findIndex(t=>t.symbol===e.symbol)).sort((t,a)=>{let r=t.symbol.toLowerCase()===e||t.name.toLowerCase()===e,s=a.symbol.toLowerCase()===e||a.name.toLowerCase()===e;if(r&&!s)return -1;if(!r&&s)return 1;let l=t.symbol.endsWith(".NS"),n=a.symbol.endsWith(".NS");return l&&!n?-1:!l&&n?1:t.symbol.length-a.symbol.length}).slice(0,10)}catch(e){return console.error("Search error:",e),t}},getStockData:async e=>{try{let t=await fetch("https://finnhub.io/api/v1/quote?symbol=".concat(e,"&token=").concat(r));if(!t.ok)throw Error("Failed to fetch data for ".concat(e));let a=await t.json(),s=a.c||0;return{symbol:e,price:s,change:a.d||0,changePercent:a.dp||0,lastUpdated:new Date().toISOString()}}catch(e){throw console.error("Error fetching stock data:",e),e}},getMockStockData:e=>({symbol:e,price:100+100*Math.random(),change:Number((10*Math.random()-5).toFixed(2)),changePercent:Number((10*Math.random()-5).toFixed(2)),lastUpdated:new Date().toISOString()})}},88524:(e,t,a)=>{"use strict";a.d(t,{A0:()=>i,BF:()=>o,Hj:()=>c,XI:()=>n,nA:()=>u,nd:()=>d});var r=a(95155),s=a(12115),l=a(53999);let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",a),...s})})});n.displayName="Table";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",a),...s})});i.displayName="TableHeader";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",a),...s})});o.displayName="TableBody",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...s})}).displayName="TableFooter";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...s})});c.displayName="TableRow";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("th",{ref:t,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...s})});d.displayName="TableHead";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("td",{ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...s})});u.displayName="TableCell",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",a),...s})}).displayName="TableCaption"},89852:(e,t,a)=>{"use strict";a.d(t,{p:()=>n});var r=a(95155),s=a(12115),l=a(53999);let n=s.forwardRef((e,t)=>{let{className:a,type:s,...n}=e;return(0,r.jsx)("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...n})});n.displayName="Input"},97168:(e,t,a)=>{"use strict";a.d(t,{$:()=>c,r:()=>o});var r=a(95155),s=a(12115),l=a(99708),n=a(74466),i=a(53999);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:a,variant:s,size:n,asChild:c=!1,...d}=e,u=c?l.DX:"button";return(0,r.jsx)(u,{className:(0,i.cn)(o({variant:s,size:n,className:a})),ref:t,...d})});c.displayName="Button"},99840:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>u,Es:()=>h,L3:()=>p,c7:()=>m,lG:()=>o,rr:()=>f});var r=a(95155),s=a(12115),l=a(50237),n=a(54416),i=a(53999);let o=l.bL;l.l9;let c=e=>{let{...t}=e;return(0,r.jsx)(l.ZL,{...t})};c.displayName=l.ZL.displayName,l.bm;let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.hJ,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});d.displayName=l.hJ.displayName;let u=s.forwardRef((e,t)=>{let{className:a,children:s,...o}=e;return(0,r.jsxs)(c,{children:[(0,r.jsx)(d,{}),(0,r.jsxs)(l.UC,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 sm:rounded-lg",a),...o,children:[s,(0,r.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(n.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=l.UC.displayName;let m=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};m.displayName="DialogHeader";let h=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};h.displayName="DialogFooter";let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});p.displayName=l.hE.displayName;let f=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...s})});f.displayName=l.VY.displayName}},e=>{var t=t=>e(e.s=t);e.O(0,[277,302,441,684,358],()=>t(67732)),_N_E=e.O()}]);