(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{6101:(e,t,r)=>{"use strict";r.d(t,{s:()=>o,t:()=>s});var a=r(12115);function n(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function s(...e){return t=>{let r=!1,a=e.map(e=>{let a=n(e,t);return r||"function"!=typeof a||(r=!0),a});if(r)return()=>{for(let t=0;t<a.length;t++){let r=a[t];"function"==typeof r?r():n(e[t],null)}}}}function o(...e){return a.useCallback(s(...e),e)}},17127:(e,t,r)=>{Promise.resolve().then(r.bind(r,52813)),Promise.resolve().then(r.bind(r,99304)),Promise.resolve().then(r.t.bind(r,29840,23)),Promise.resolve().then(r.t.bind(r,19324,23)),Promise.resolve().then(r.bind(r,44980))},19324:()=>{},29840:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_d65c78"}},44980:(e,t,r)=>{"use strict";r.d(t,{PortfolioProvider:()=>i,g:()=>c});var a=r(95155),n=r(12115),s=r(87464);let o=(0,n.createContext)(void 0),l=[{symbol:"AAPL",longName:"Apple Inc.",type:"Equity",quantity:2,purchasePrice:18777,currentPrice:218.27,regularMarketChangePercent:-.03,value:37542,costBasis:18777,purchaseDate:"2024-01-01",lastUpdated:new Date().toISOString()},{symbol:"AMZN",longName:"Amazon.com Inc.",type:"Equity",quantity:2,purchasePrice:16786,currentPrice:196.21,regularMarketChangePercent:.52,value:33748,costBasis:16786,purchaseDate:"2024-01-01",lastUpdated:new Date().toISOString()},{symbol:"TSLA",longName:"Tesla Inc.",type:"Equity",quantity:5,purchasePrice:21293,currentPrice:248.71,regularMarketChangePercent:.45,value:106945,costBasis:21293,purchaseDate:"2024-01-01",lastUpdated:new Date().toISOString()},{symbol:"MSFT",longName:"Microsoft Corporation",type:"Equity",quantity:2,purchasePrice:33646,currentPrice:391.26,regularMarketChangePercent:.01,value:67297,costBasis:33646,purchaseDate:"2024-01-01",lastUpdated:new Date().toISOString()}];function i(e){let{children:t}=e,[r,i]=(0,n.useState)(l),[c,u]=(0,n.useState)(!0),[d,m]=(0,n.useState)(null);(0,n.useEffect)(()=>{let e=localStorage.getItem("portfolio");e&&i(JSON.parse(e)),u(!1)},[]),(0,n.useEffect)(()=>{c||localStorage.setItem("portfolio",JSON.stringify(r))},[r,c]),(0,n.useEffect)(()=>{let e=async()=>{if(0!==r.length){u(!0);try{let e=await Promise.all(r.map(async e=>{try{let t=await s.z.getStockData(e.symbol);return{...e,currentPrice:t.price,regularMarketChangePercent:t.changePercent,value:t.price*e.quantity}}catch(t){return console.error("Error updating ".concat(e.symbol,":"),t),e}}));i(e)}catch(e){console.error("Error updating prices:",e)}finally{u(!1)}}};e();let t=setInterval(e,3e5);return()=>clearInterval(t)},[]);let h=(0,n.useCallback)(async(e,t,a)=>{u(!0),m(null);try{let n=e.includes("(")?e.split("(")[1].replace(")","").trim():e;if(r.some(e=>e.symbol===n))throw Error("Asset already exists in portfolio");let o=await s.z.getStockData(n),l=83.34*o.price,c={symbol:n,longName:n,quantity:t,purchasePrice:a,currentPrice:o.price,regularMarketChangePercent:o.changePercent,value:l*t,costBasis:a,type:"Equity",purchaseDate:new Date().toISOString().split("T")[0],lastUpdated:new Date().toISOString()},u=[...r,c];i(u),localStorage.setItem("portfolio",JSON.stringify(u))}catch(e){throw console.error("Error adding asset:",e),m(e instanceof Error?e.message:"Failed to add asset"),e}finally{u(!1)}},[r]),y=(0,n.useCallback)((e,t)=>{u(!0);try{let a=r.map(r=>r.symbol===e?{...r,...t,value:(t.quantity||r.quantity)*r.currentPrice,lastUpdated:new Date().toISOString()}:r);i(a),localStorage.setItem("portfolio",JSON.stringify(a))}catch(e){throw console.error("Error editing asset:",e),e}finally{u(!1)}},[r]),p=(()=>{let e=r.reduce((e,t)=>e+t.purchasePrice*t.quantity,0),t=r.reduce((e,t)=>e+t.value,0)-e;return{totalInvested:e,totalGain:t,totalGainPercent:e>0?t/e*100:0}})(),f=r.reduce((e,t)=>e+t.value,0);return(0,a.jsx)(o.Provider,{value:{assets:r,addAsset:h,removeAsset:e=>{let t=r.filter(t=>t.symbol!==e);i(t),localStorage.setItem("portfolio",JSON.stringify(t))},updateQuantity:(e,t)=>{let a=r.map(r=>r.symbol===e?{...r,quantity:t,value:r.currentPrice*t}:r);i(a),localStorage.setItem("portfolio",JSON.stringify(a))},clearPortfolio:()=>{i([]),localStorage.removeItem("portfolio")},totalValue:f,metrics:p,isLoading:c,error:d,editAsset:y},children:t})}let c=()=>{let e=(0,n.useContext)(o);if(!e)throw Error("usePortfolio must be used within PortfolioProvider");return e}},51362:(e,t,r)=>{"use strict";r.d(t,{D:()=>c,N:()=>u});var a=r(12115),n=(e,t,r,a,n,s,o,l)=>{let i=document.documentElement,c=["light","dark"];function u(t){var r;(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,a=r&&s?n.map(e=>s[e]||e):n;r?(i.classList.remove(...a),i.classList.add(s&&s[t]?s[t]:t)):i.setAttribute(e,t)}),r=t,l&&c.includes(r)&&(i.style.colorScheme=r)}if(a)u(a);else try{let e=localStorage.getItem(t)||r,a=o&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;u(a)}catch(e){}},s=["light","dark"],o="(prefers-color-scheme: dark)",l=a.createContext(void 0),i={setTheme:e=>{},themes:[]},c=()=>{var e;return null!=(e=a.useContext(l))?e:i},u=e=>a.useContext(l)?a.createElement(a.Fragment,null,e.children):a.createElement(m,{...e}),d=["light","dark"],m=e=>{let{forcedTheme:t,disableTransitionOnChange:r=!1,enableSystem:n=!0,enableColorScheme:i=!0,storageKey:c="theme",themes:u=d,defaultTheme:m=n?"system":"light",attribute:g="data-theme",value:b,children:v,nonce:S,scriptProps:N}=e,[x,k]=a.useState(()=>y(c,m)),[E,w]=a.useState(()=>"system"===x?f():x),C=b?Object.values(b):u,A=a.useCallback(e=>{let t=e;if(!t)return;"system"===e&&n&&(t=f());let a=b?b[t]:t,o=r?p(S):null,l=document.documentElement,c=e=>{"class"===e?(l.classList.remove(...C),a&&l.classList.add(a)):e.startsWith("data-")&&(a?l.setAttribute(e,a):l.removeAttribute(e))};if(Array.isArray(g)?g.forEach(c):c(g),i){let e=s.includes(m)?m:null,r=s.includes(t)?t:e;l.style.colorScheme=r}null==o||o()},[S]),I=a.useCallback(e=>{let t="function"==typeof e?e(x):e;k(t);try{localStorage.setItem(c,t)}catch(e){}},[x]),P=a.useCallback(e=>{w(f(e)),"system"===x&&n&&!t&&A("system")},[x,t]);a.useEffect(()=>{let e=window.matchMedia(o);return e.addListener(P),P(e),()=>e.removeListener(P)},[P]),a.useEffect(()=>{let e=e=>{e.key===c&&(e.newValue?k(e.newValue):I(m))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[I]),a.useEffect(()=>{A(null!=t?t:x)},[t,x]);let q=a.useMemo(()=>({theme:x,setTheme:I,forcedTheme:t,resolvedTheme:"system"===x?E:x,themes:n?[...u,"system"]:u,systemTheme:n?E:void 0}),[x,I,t,E,n,u]);return a.createElement(l.Provider,{value:q},a.createElement(h,{forcedTheme:t,storageKey:c,attribute:g,enableSystem:n,enableColorScheme:i,defaultTheme:m,value:b,themes:u,nonce:S,scriptProps:N}),v)},h=a.memo(e=>{let{forcedTheme:t,storageKey:r,attribute:s,enableSystem:o,enableColorScheme:l,defaultTheme:i,value:c,themes:u,nonce:d,scriptProps:m}=e,h=JSON.stringify([s,r,i,t,u,c,o,l]).slice(1,-1);return a.createElement("script",{...m,suppressHydrationWarning:!0,nonce:"",dangerouslySetInnerHTML:{__html:"(".concat(n.toString(),")(").concat(h,")")}})}),y=(e,t)=>{let r;try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t},p=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},f=e=>(e||(e=window.matchMedia(o)),e.matches?"dark":"light")},52813:(e,t,r)=>{"use strict";r.d(t,{default:()=>f});var a=r(95155),n=r(6874),s=r.n(n),o=r(18999),l=r(53999);r(12115);var i=r(19946);let c=(0,i.A)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),u=(0,i.A)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);var d=r(51362),m=r(97168);function h(){let{theme:e,setTheme:t}=(0,d.D)();return(0,a.jsxs)(m.$,{variant:"ghost",size:"icon",onClick:()=>t("light"===e?"dark":"light"),title:"Toggle theme",children:[(0,a.jsx)(c,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,a.jsx)(u,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,a.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}let y=(0,i.A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),p=[{name:"Dashboard",href:"/",icon:y},{name:"Portfolio",href:"/portfolio",icon:(0,i.A)("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]])},{name:"Risk Analysis",href:"/risk-analysis",icon:(0,i.A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])}];function f(){let e=(0,o.usePathname)();return(0,a.jsx)("nav",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,a.jsxs)("div",{className:"flex h-16 items-center px-4 md:px-8",children:[(0,a.jsx)("div",{className:"mr-8 flex items-center",children:(0,a.jsxs)(s(),{href:"/",className:"flex items-center",children:[(0,a.jsx)("div",{className:"relative h-8 w-8 mr-2 rounded-full bg-primary flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-primary-foreground font-bold",children:"CL"})}),(0,a.jsx)("span",{className:"hidden font-bold text-xl md:inline-block",children:"CapitaLens"})]})}),(0,a.jsxs)("div",{className:"flex-1 flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex items-center space-x-1 md:space-x-4",children:p.map(t=>{let r=e===t.href,n=t.icon;return(0,a.jsxs)(s(),{href:t.href,className:(0,l.cn)("flex h-9 items-center rounded-md px-2 text-sm font-medium transition-colors hover:bg-accent",r?"bg-accent text-accent-foreground":"text-muted-foreground"),children:[(0,a.jsx)(n,{className:"h-4 w-4 mr-1 md:mr-2"}),(0,a.jsx)("span",{className:"hidden md:inline-block",children:t.name})]},t.href)})}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsx)(h,{})})]})]})})}},53999:(e,t,r)=>{"use strict";r.d(t,{cn:()=>s});var a=r(52596),n=r(39688);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,a.$)(t))}},74466:(e,t,r)=>{"use strict";r.d(t,{F:()=>o});var a=r(52596);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,s=a.$,o=(e,t)=>r=>{var a;if((null==t?void 0:t.variants)==null)return s(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:o,defaultVariants:l}=t,i=Object.keys(o).map(e=>{let t=null==r?void 0:r[e],a=null==l?void 0:l[e];if(null===t)return null;let s=n(t)||n(a);return o[e][s]}),c=r&&Object.entries(r).reduce((e,t)=>{let[r,a]=t;return void 0===a||(e[r]=a),e},{});return s(e,i,null==t?void 0:null===(a=t.compoundVariants)||void 0===a?void 0:a.reduce((e,t)=>{let{class:r,className:a,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...l,...c}[t]):({...l,...c})[t]===r})?[...e,r,a]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},87464:(e,t,r)=>{"use strict";r.d(t,{z:()=>s});let a="cvg3pjhr01qgvsqnco9gcvg3pjhr01qgvsqncoa0",n=[{symbol:"AAPL",name:"Apple Inc.",type:"Equity",exchange:"NASDAQ"},{symbol:"MSFT",name:"Microsoft Corporation",type:"Equity",exchange:"NASDAQ"},{symbol:"GOOGL",name:"Alphabet Inc.",type:"Equity",exchange:"NASDAQ"},{symbol:"AMZN",name:"Amazon.com Inc.",type:"Equity",exchange:"NASDAQ"},{symbol:"META",name:"Meta Platforms Inc.",type:"Equity",exchange:"NASDAQ"},{symbol:"TSLA",name:"Tesla Inc.",type:"Equity",exchange:"NASDAQ"},{symbol:"NFLX",name:"Netflix Inc.",type:"Equity",exchange:"NASDAQ"},{symbol:"RELIANCE.NS",name:"Reliance Industries Ltd.",type:"Equity",exchange:"NSE"},{symbol:"TCS.NS",name:"Tata Consultancy Services Ltd.",type:"Equity",exchange:"NSE"},{symbol:"INFY.NS",name:"Infosys Ltd.",type:"Equity",exchange:"NSE"},{symbol:"HDFCBANK.NS",name:"HDFC Bank Ltd.",type:"Equity",exchange:"NSE"},{symbol:"RELIANCE.NS",name:"Reliance Industries Ltd.",type:"Equity",exchange:"NSE"},{symbol:"TCS.NS",name:"Tata Consultancy Services Ltd.",type:"Equity",exchange:"NSE"},{symbol:"INFY.NS",name:"Infosys Ltd.",type:"Equity",exchange:"NSE"},{symbol:"HDFCBANK.NS",name:"HDFC Bank Ltd.",type:"Equity",exchange:"NSE"},{symbol:"ICICIBANK.NS",name:"ICICI Bank Ltd.",type:"Equity",exchange:"NSE"},{symbol:"HINDUNILVR.NS",name:"Hindustan Unilever Ltd.",type:"Equity",exchange:"NSE"},{symbol:"SBIN.NS",name:"State Bank of India",type:"Equity",exchange:"NSE"},{symbol:"BHARTIARTL.NS",name:"Bharti Airtel Ltd.",type:"Equity",exchange:"NSE"},{symbol:"ITC.NS",name:"ITC Ltd.",type:"Equity",exchange:"NSE"},{symbol:"KOTAKBANK.NS",name:"Kotak Mahindra Bank Ltd.",type:"Equity",exchange:"NSE"}],s={searchStocks:async e=>{if((e=e.toLowerCase().trim()).length<2)return[];let t=n.filter(t=>t.symbol.toLowerCase().includes(e)||t.name.toLowerCase().includes(e));try{let r=await fetch("https://finnhub.io/api/v1/search?q=".concat(e,"&token=").concat(a));if(!r.ok)return console.warn("API request failed, using local results"),t;let n=((await r.json()).result||[]).filter(e=>"Common Stock"===e.type).map(e=>({symbol:e.symbol,name:e.description||e.symbol,type:"Equity",exchange:e.primaryExchange||"Unknown"}));return[...t,...n].filter((e,t,r)=>t===r.findIndex(t=>t.symbol===e.symbol)).sort((t,r)=>{let a=t.symbol.toLowerCase()===e||t.name.toLowerCase()===e,n=r.symbol.toLowerCase()===e||r.name.toLowerCase()===e;if(a&&!n)return -1;if(!a&&n)return 1;let s=t.symbol.endsWith(".NS"),o=r.symbol.endsWith(".NS");return s&&!o?-1:!s&&o?1:t.symbol.length-r.symbol.length}).slice(0,10)}catch(e){return console.error("Search error:",e),t}},getStockData:async e=>{try{let t=await fetch("https://finnhub.io/api/v1/quote?symbol=".concat(e,"&token=").concat(a));if(!t.ok)throw Error("Failed to fetch data for ".concat(e));let r=await t.json(),n=r.c||0;return{symbol:e,price:n,change:r.d||0,changePercent:r.dp||0,lastUpdated:new Date().toISOString()}}catch(e){throw console.error("Error fetching stock data:",e),e}},getMockStockData:e=>({symbol:e,price:100+100*Math.random(),change:Number((10*Math.random()-5).toFixed(2)),changePercent:Number((10*Math.random()-5).toFixed(2)),lastUpdated:new Date().toISOString()})}},97168:(e,t,r)=>{"use strict";r.d(t,{$:()=>c,r:()=>i});var a=r(95155),n=r(12115),s=r(99708),o=r(74466),l=r(53999);let i=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:r,variant:n,size:o,asChild:c=!1,...u}=e,d=c?s.DX:"button";return(0,a.jsx)(d,{className:(0,l.cn)(i({variant:n,size:o,className:r})),ref:t,...u})});c.displayName="Button"},99304:(e,t,r)=>{"use strict";r.d(t,{ThemeProvider:()=>s});var a=r(95155);r(12115);var n=r(51362);function s(e){let{children:t,...r}=e;return(0,a.jsx)(n.N,{...r,children:t})}},99708:(e,t,r)=>{"use strict";r.d(t,{DX:()=>o,xV:()=>i});var a=r(12115),n=r(6101),s=r(95155),o=a.forwardRef((e,t)=>{let{children:r,...n}=e,o=a.Children.toArray(r),i=o.find(c);if(i){let e=i.props.children,r=o.map(t=>t!==i?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,s.jsx)(l,{...n,ref:t,children:a.isValidElement(e)?a.cloneElement(e,void 0,r):null})}return(0,s.jsx)(l,{...n,ref:t,children:r})});o.displayName="Slot";var l=a.forwardRef((e,t)=>{let{children:r,...s}=e;if(a.isValidElement(r)){let e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(r),o=function(e,t){let r={...t};for(let a in t){let n=e[a],s=t[a];/^on[A-Z]/.test(a)?n&&s?r[a]=(...e)=>{s(...e),n(...e)}:n&&(r[a]=n):"style"===a?r[a]={...n,...s}:"className"===a&&(r[a]=[n,s].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props);return r.type!==a.Fragment&&(o.ref=t?(0,n.t)(t,e):e),a.cloneElement(r,o)}return a.Children.count(r)>1?a.Children.only(null):null});l.displayName="SlotClone";var i=({children:e})=>(0,s.jsx)(s.Fragment,{children:e});function c(e){return a.isValidElement(e)&&e.type===i}}},e=>{var t=t=>e(e.s=t);e.O(0,[385,277,95,441,684,358],()=>t(17127)),_N_E=e.O()}]);